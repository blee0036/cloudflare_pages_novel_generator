# 阅读器功能说明

## ✅ 已完成改进

### 1. 移除左右点击区域
- **改动前**：左右两侧各24%宽度的点击区域用于翻页，容易误触
- **改动后**：已完全移除，避免误操作
- **保留**：页首和页尾的"上一章"、"下一章"按钮
- **保留**：键盘左右箭头翻页功能

### 2. 阅读设置功能 ⚙️

#### 打开方式
- 点击阅读页面右下角的**齿轮图标**浮动按钮

#### 可调节选项

**预设主题**（5个）
- **默认**：白底黑字，标准设置
- **舒适**：米白底，大字号，宽行距
- **夜间**：深色背景，护眼
- **纸质**：仿纸张色，Georgia字体
- **护眼**：淡绿色背景

**自定义设置**
1. **字号**：14px - 32px
2. **行高**：1.0 - 3.0倍
3. **字间距**：0px - 5px
4. **字体**：
   - 系统默认
   - 宋体
   - 黑体
   - 楷体
   - 微软雅黑
   - Georgia
   - Times
5. **背景色**：颜色选择器 + 手动输入色值
6. **文字颜色**：颜色选择器 + 手动输入色值

#### 存储机制
- 所有设置自动保存到 **localStorage**
- 关闭浏览器后设置保留
- 跨设备不同步（每台设备独立设置）

#### 应用范围
- 仅对章节正文内容生效
- 不影响页面导航、按钮等UI元素

## 📱 响应式适配

### 桌面端
- 设置面板居中显示，最大宽度500px
- 浮动按钮位于右下角（56x56px）

### 移动端
- 设置面板从底部弹出，圆角顶部
- 浮动按钮缩小（48x48px）
- 预设主题按钮自适应布局

## 🎨 技术细节

### 文件结构
```
src/
├── components/
│   └── ReaderSettings.tsx      # 设置面板组件
├── utils/
│   └── readerSettings.ts       # 设置工具函数
└── pages/
    └── ReaderPage.tsx          # 集成设置功能
```

### 核心函数
- `loadSettings()`: 从localStorage加载设置
- `saveSettings(settings)`: 保存设置到localStorage
- `applySettings(settings, element)`: 应用样式到DOM元素

### 样式变量
设置不使用CSS变量，而是直接修改元素的内联样式：
- `fontSize`
- `lineHeight`
- `letterSpacing`
- `fontFamily`
- `backgroundColor`
- `color`

## 🔧 使用建议

1. **推荐预设**：
   - 白天阅读：选择"默认"或"舒适"
   - 夜间阅读：选择"夜间"
   - 长时间阅读：选择"护眼"或"纸质"

2. **自定义建议**：
   - 行高建议1.8-2.0，过高过低都影响阅读
   - 字间距0-1px较为舒适
   - 背景色和文字色对比度要足够（至少4.5:1）

3. **性能**：
   - 设置实时生效，无需刷新
   - 样式应用通过ref直接操作DOM，性能优异
